<!DOCTYPE HTML>
<?xml version="1.0" encoding="utf-8"?><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta charset="utf-8">
		<meta name="keywords" content="">
		<meta name="Author" content="Basil Peace">
		<meta name="Copyright" content="Copyright © 2014  Basil Peace">
		<meta name="Robots" content="INDEX FOLLOW">
		<title>Разработка и сборка — FIDATA</title>
		<link rel="stylesheet" href="../css/webfonts.css">
		<link rel="stylesheet" href="../css/stylesheet.css">
		<script type="text/javascript" src="//code.jquery.com/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="../scripts/tools.js"></script>
		<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
		<meta name="generator" content="nanoc 3.7.2">
	</head>
	<body>
		<div id="header">
	<div id="logo">
		<a href="http://fidata.org/" title="FIDATA"><img src="../images/logo.png" alt="FIDATA Logo" title="FIDATA Logo"></a>
	</div>
	<div id="headerImg">
		
		<div id="websiteNameDiv">
			<h1 id="websiteName">FIDATA</h1>
			<div id="websiteSubtitle">Свободная платформа для анализа финансовых и нефинансовых данных, разработки торговых систем и роботов, для любых рынков и инструментов</div>
		</div>
		
	</div>
</div>
		<div id="main2">
			<table cellspacing="6" id="main"><tbody><tr>
			
<td class="column">
	<table class="Block" cellspacing="0">
		<thead><tr><td class="BlockTitle">» Содержание сайта</td></tr></thead>
		<tbody><tr><td class="BlockContents"><div id="content">
	<div class="menuItem">
	
		<a href="index.html">Главная</a>
	
</div>
<div class="menuItem">
	
		<a href="trading.html">Трейдинг</a>
	
</div>
<div class="menuItem">
	
		<a href="requirements.html">Требования к хорошему ПО для трейдинга</a>
	
</div>
<div class="menuItem">
	
		<a href="../en/existing_products.html" lang="en">Existing products</a>
	
</div>
<div class="menuItem">
	
		<a href="DSL.html">Языки для разработки роботов и ТС</a>
	
</div>
<div class="menuItem">
	
		<a href="existing_problems.html">Существующие проблемы</a>
	
</div>
<div class="menuItem">
	
		<a href="features.html">Возможности</a>
	
</div>
<div class="menuItem">
	
		<a href="architecture.html">Архитектура</a>
	
</div>
<div class="menuItem">
	
		<a href="reusable_code.html">Переиспользуемый код</a>
	
</div>
<div class="menuItem">
	
		<a href="implementation_plan.html">План реализации</a>
	
</div>
<div class="menuItem">
	
		<a href="licensing.html">Лицензирование</a>
	
</div>
<div class="menuItem">
	
		<span>Разработка и сборка</span>
	
</div>
<div class="menuItem">
	
		<a href="monetization.html">Монетизация</a>
	
</div>
<div class="menuItem">
	
		<a href="name.html">О названии</a>
	
</div>
<div class="menuItem">
	
		<a href="FAQ.html">FAQ</a>
	
</div>
<div class="menuItem">
	
		<a href="contacts.html">Контакты</a>
	
</div>

</div></td></tr></tbody>
	</table>
	<table class="Block" cellspacing="0">
		<thead><tr><td class="BlockTitle">» Переводы</td></tr></thead>
		<tbody><tr><td class="BlockContents"><div id="translations">
	
		<div class="menuItem">
	
		<a href="../en/development_and_building.html" lang="en">English</a>
	
</div>
	
		<div class="menuItem">
	
		<span>Русский</span>
	
</div>
	
</div></td></tr></tbody>
	</table>
</td>
			
			<td id="body">
				
					
				
				
				
<h1 id="section">Разработка и сборка</h1>

<h2 id="section-1">Язык(и) программирования</h2>

<ul>
  <li>Я предлагаю написать бо́льшую часть проекта на Python 3.</li>
  <li>Так как Python сам по себе достаточно относительно медленный,
критические части (а лучше весь код) надо компилировать, транслировать
или конвертировать в C/C++. См. ниже
<a href="#PythonCompilers">список динамических компиляторов для Python</a>.</li>
  <li>Проект будет включать некоторую часть кода на C/C++.</li>
</ul>

<p>Выбор языка — важный и спорный вопрос для разработчиков. Мне поступали
предложения относительно других языков. В отличие от остального сайта,
здесь я приведу подробную аргументацию выбора Python.</p>

<p><strong>Аргументы “ЗА” Python</strong>:</p>

<ul>
  <li>Высокоуровневый язык программирования общего назначения.</li>
  <li>Открытая реализация.</li>
  <li>Активно поддерживается и развивается.</li>
  <li>Равномерно поддерживается на всех популярных десктопных платформах.</li>
  <li>Активно развивается как язык для научных вычислений.</li>
  <li>Существует большое количество готовых модулей для финансовых и
научных вычислений, которые можно переиспользовать. Официальный
репозиторий: <a href="https://pypi.python.org/">https://pypi.python.org/</a>.</li>
  <li>Я изучал вопрос подробно и уверен, что все необходимые нам вещи
возможно реализовать на Python с некоторой долей С/С++.</li>
  <li>Процедурный язык PL/Python встроен в PostgreSQL. Это может упростить
переиспользование кода.</li>
</ul>

<p><strong>Почему Python 3</strong>:</p>

<ul>
  <li>Python 3 работает с UTF-8 по умолчанию, что убирает любые проблемы с
кодировками.</li>
  <li>Большинство пакетов уже портированы на Python 3.</li>
</ul>

<h3 id="section-2">Рассматривавшиеся альтернативы</h3>

<p>Я также рассматривал следующие языки в качестве основного:</p>

<ul>
  <li>
    <p><strong>C# или другой язык для .NET</strong></p>

    <p><strong>Недостатки</strong>:</p>

    <ul>
      <li>
        <p>Закрытость оригинальной реализации и риск патентного
преследования других реализаций</p>

        <p>См. подробнее <a href="http://www.fsf.org/news/dont-depend-on-mono">http://www.fsf.org/news/dont-depend-on-mono</a>.</p>
      </li>
      <li>
        <p>Риски портируемости</p>

        <p>Хотя существуют проекты
<a href="http://www.gnu.org/software/dotgnu/pnet.html">Portable.NET</a> и
<a href="http://www.mono-project.com/">Mono</a>, нет никаких гарантий, что они
поддерживают все необходимые возможности и 100%-совместимы с
оригинальной реализацией. Например,
<a href="http://www.mono-project.com/WPF">WPF в Mono не реализован и не будет</a>.
Поскольку .NET не является свободной платформой, гарантий, что эти
проекты будут развиваться в будущем, так же нет.</p>

        <p>Mono даёт возможность разрабатывать в том числе и под Windows,
но это не избавляет от проблемы №1.</p>
      </li>
      <li>
        <p>Не самая высокая производительность</p>

        <p>.NET является прослойкой между кодом и процессором, и потому
реализация какого-либо алгоритма на C# будет всегда проигрывать
реализации того же алгоритма на C/С++. Проигрыш, однако, не очень
существенен.
См., например,
<a href="http://www.codeproject.com/Articles/212856/Head-to-head-benchmark-Csharp-vs-NET">http://www.codeproject.com/Articles/212856/Head-to-head-benchmark-Csharp-vs-NET</a>.</p>
      </li>
    </ul>

    <p><strong>Преимущества</strong>:</p>

    <ul>
      <li>
        <p>Готовые пакеты: <a href="http://www.nuget.org/">http://www.nuget.org/</a>.</p>

        <p>По моему ощущению, библиотек для финансовых и научных вычислений
меньше, чем под Python.</p>
      </li>
      <li>
        <p>Существует готовый активно развивающийся проект
<a href="../en/existing_products.html#StockSharp">StockSharp</a>. Он
написан на C# и выпускает бесплатную (не самую последнюю) версию под
GPLv3. Он не удовлетворяет всем
<a href="requirements.html">требованиям</a>, но
мы можем переиспользовать многие куски из него.</p>
      </li>
      <li>
        <p>Если мы захотим поддерживать F# для написания роботов/ТС,
платформа .NET нам понадобится.</p>
      </li>
    </ul>

    <p><strong>Решения</strong>:</p>

    <ol>
      <li>Не разрабатывать ничего под платформу .NET.</li>
      <li>Первое время можно подключать к Python готовые модули под .NET.</li>
      <li>Брать код из проектов под .NET и портировать его под Python.</li>
    </ol>
  </li>
  <li>
    <p><strong>Java</strong></p>

    <p><strong>Преимущества</strong>:</p>

    <ul>
      <li>Простота портируемости</li>
      <li>Наличие нескольких готовых продуктов для технического анализа,
написанных на Java</li>
      <li>Скорость разработки, доступность высокоуровневых абстракций для
многих операций. Например,
<a href="http://www.eclipse.org/modeling/gmp/">GMP</a> — для создания графических
редакторов</li>
    </ul>

    <p><strong>Недостатки</strong> (я сужу с точки зрения пользователя Windows. Под
GNU/Linux ситуация может быть лучше):</p>

    <ul>
      <li>
        <p>Низкая производительность и большое потребление памяти</p>

        <ul>
          <li>Я использую несколько серверных продуктов, написанных на
Java: CollabNet Subversion Edge, Artifactory, SonarQube, Jenkins. Я не
удовлетворён ни их производительностью, ни их потреблением памяти.</li>
          <li>Java, как и .NET, — прослойка, замедляющая выполнение кода.</li>
        </ul>
      </li>
      <li>
        <p>Меньшая безопасность для конечного пользователя</p>

        <p>Антивирусы и брандмауэры, по очевидным причинам, плохо работают
с кодом Java (большинство вообще никак). У меня есть опыт заражения
вирусом через Java. Использование Java поставило бы под угрозу
пользователей продукта и создало бы им неудобства.</p>
      </li>
      <li>
        <p>Для работы с GPU нам всё ещё необходимы нативные бинарники</p>
      </li>
      <li>
        <p>(Личное предубеждение, не аргумент) Я не люблю Java и вряд ли
захотел бы участвовать в Java-проекте.</p>
      </li>
    </ul>

    <p><strong>Выводы</strong>:</p>

    <ol>
      <li>Возможно, есть смысл использовать Java на клиенте. Но точно не
на сервере.</li>
    </ol>

    <p><strong>Решения</strong>:</p>

    <ol>
      <li>Первое время можно подключать к Python готовые модули на Java.</li>
      <li>Брать код из проектов на Java и портировать его под Python.</li>
    </ol>
  </li>
  <li>
    <p><strong>Object Pascal</strong> (в реализации Free Pascal)</p>

    <p>Язык достаточно низкого уровня, сравнимый с C/C++, а не с Pythonом.</p>

    <p><strong>Преимущества</strong>:</p>

    <ul>
      <li>
        <p>Широчайший список нативно поддерживаемых аппаратных и
программных платформ</p>
      </li>
      <li>
        <p>Возможность использования библиотек на C</p>
      </li>
      <li>
        <p>Есть готовые реализации нейронных сетей и некоторых численных
алгоритмов</p>
      </li>
    </ul>

    <p><strong>Недостатки</strong>:</p>

    <ul>
      <li>
        <p>Pascal — умирающий язык</p>
      </li>
      <li>
        <p>Free Pascal развивается неактивно. Исправления багов происходят
со значительной задержкой</p>
      </li>
      <li>
        <p>Готовые высокоуровневые библиотеки для финансов и математики —
не известны</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Erlang</strong></p>

    <p>(предлагался одним комментатором)</p>

    <ul>
      <li>Не знаком с этим языком подробно. Не представляю, в каком месте
проекта его можно было бы использовать.</li>
      <li>Лицензия (Erlang Public License) несовместима с GPL.</li>
    </ul>
  </li>
</ul>

<h3 id="section-3">Вспомогательные языки</h3>

<p>Python не является единственным языком для финансового и научного ПО.
Так как мы планируем переиспользовать код из других проектов, то это
могут быть проекты и на других языках.</p>

<ul>
  <li>
    <p><strong>R</strong></p>

    <p><strong>Сходства с Python</strong>:</p>

    <ul>
      <li>Активно используется в научном сообществе</li>
      <li>Официальный репозиторий пакетов:
<a href="http://cran.r-project.org/">http://cran.r-project.org/</a>.</li>
    </ul>

    <p><strong>Отличия от Python</strong>:</p>

    <ul>
      <li>Python — язык общего назначения, R — язык для статистической
обработки данных
На R нельзя написать полноценное приложение, и нет многих
возможностей по анализу данных помимо статистического.</li>
      <li>Качество графиков, построенных в Python (через
<a href="../en/existing_products.html#Matplotlib">Matplotlib</a>),
превосходит R</li>
      <li>R (по моему мнению) имеет более сложный синтаксис, чем Python</li>
      <li>Создание собственных пакетов сложнее, чем в Python</li>
    </ul>
  </li>
  <li>
    <p><strong>Perl</strong></p>

    <p><strong>Преимущества</strong>:</p>

    <ul>
      <li>Официальный репозиторий пакетов: <a href="http://www.cpan.org/">http://www.cpan.org/</a>. Есть
некоторое количество модулей для финансовых вычислений.</li>
    </ul>

    <p><strong>Недостатки</strong>:</p>

    <ul>
      <li>Нет готовой свободной нативной реализации под Windows
        <ul>
          <li>
<a href="http://adpgtech.blogspot.ru/2013/12/activestate-make-activeperl-non-free.html">В декабре 2013 года ActiveState сделала ActivePerl несвободной</a>.</li>
          <li>Strarberry Perl собирается GCC</li>
          <li>Возможно
<a href="http://habrahabr.ru/post/78034/">собрать самостоятельно</a>
</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><strong>Решения для перечисленных языков</strong>:</p>

<ol>
  <li>
    <p>В зависимости от конкретной задачи:</p>

    <ul>
      <li>Подключать к Python готовые модули на других языках, или</li>
      <li>Портировать код на Python</li>
    </ul>
  </li>
</ol>

<h3 id="section-4">Модульная архитектура</h3>

<p>Модульная архитектура позволяет писать различные модули на разных
языках, сравнивать реализации по скорости, выпиливать одни реализации и
вставлять другие. Так что выбор языков может быть неокончательным.</p>

<h3 id="section-5">Взаимодействие между языками, динамические компиляторы</h3>

<p>Элементы сгруппированы по основному (вызывающему) языку. Список
предназначен для первого знакомства и не исчерпывающий.</p>

<ul>
  <li>
    <p><strong>Python</strong></p>

    <p>Более полные списки:</p>

    <ul>
      <li><a href="https://wiki.python.org/moin/IntegratingPythonWithOtherLanguages">https://wiki.python.org/moin/IntegratingPythonWithOtherLanguages</a></li>
      <li>
        <p><a href="http://web.archive.org/web/20071108024137/http://www.thinkware.se/cgi-bin/thinki.cgi/UsingPythonWithOtherLanguages">http://web.archive.org/web/20071108024137/http://www.thinkware.se/cgi-bin/thinki.cgi/UsingPythonWithOtherLanguages</a></p>
      </li>
      <li>
        <p><a name="PythonCompilers"></a>компиляторы</p>

        <ul>
          <li><a href="http://cython.org/">Cython</a></li>
          <li>
<a name="PyPy"></a><a href="http://pypy.org/">PyPy</a> — альтернативная
реализация языка Python (2.7 и 3.2) с динамическим компилятором</li>
          <li>
<a href="http://psyco.sourceforge.net/">Psyco</a> — сейчас не
обслуживается и умер. Предлагает взглянуть на <a href="#PyPy">PyPy</a>
</li>
          <li>
<a href="http://code.google.com/p/pymothoa/">Pymothoa</a> — неактивен,
потому что автор объединил свои силы с командой <a href="#Numba">Numba</a>
</li>
          <li>
<a name="Numba"></a><a href="https://github.com/numba/numba">Numba</a>
— динамический компилятор Python, использующий <a href="#LLVM">LLVM</a> и
осведомлённый о NumPy</li>
          <li>Py2C: <a href="https://code.google.com/p/py2c/">1</a>,
<a href="https://github.com/pradyun/Py2C">2</a> — транслятор (конвертер) с Python
на чистый C/C++</li>
        </ul>

        <p>Всё ещё в разработке и, к сожалению,
<a href="https://groups.google.com/forum/#!topic/py2c-discussion/5YOy4m7T-ks">не будет справляться с внешними модулями в ближайшем будущем</a>.</p>
      </li>
      <li>
        <p><a href="#LLVM">LLVM</a></p>

        <ul>
          <li>llvmpy: <a href="http://www.llvmpy.org/">1</a>,
<a href="https://github.com/llvmpy/llvmpy">2</a> — Python-связка для <a href="#LLVM">LLVM</a>.
Форк/обновление <a href="#llvm-py">llvm-py</a>
</li>
          <li>
<a name="llvm-py"></a>
<a href="http://www.mdevan.org/llvm-py/">Llvm-py</a> — Python-связка для
<a href="#LLVM">LLVM</a>. Неактивна</li>
        </ul>
      </li>
      <li>
        <p>C</p>

        <ul>
          <li>
<a href="https://cffi.readthedocs.org/">CFFI</a> — Foreign Function
Interface для Python, вызывающего код на C</li>
        </ul>
      </li>
      <li>
        <p>R</p>

        <ul>
          <li><a href="http://rpy.sourceforge.net/">RPy</a></li>
        </ul>
      </li>
      <li>
        <p>Java</p>

        <ul>
          <li>
<a href="http://jpe.sourceforge.net/">JPE</a> — доступ из Java к
нативным расширениям Python, и подключение Java для разработчиков на
Python</li>
          <li><a href="http://jpype.sourceforge.net/">JPype</a></li>
          <li>
<a href="https://github.com/remram44/pyjava">PyJava</a> — расширение на
C, использующее <a href="#JNI">JNI</a>
</li>
          <li>
<a href="https://pypi.python.org/pypi/javabridge">javabridge</a> —
обёртка для <a href="#JNI">JNI</a> на Python</li>
        </ul>
      </li>
      <li>
        <p>.NET</p>

        <ul>
          <li><a href="http://pythonnet.sourceforge.net/">PythonNet</a></li>
        </ul>
      </li>
      <li>
        <p>Perl</p>

        <ul>
          <li>PyPerl: <a href="https://wiki.python.org/moin/PyPerl">1</a>,
<a href="http://en.wikibooks.org/wiki/Python_Programming/Extending_with_Perl">2</a>
и последующие ссылки</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>R</strong></p>

    <ul>
      <li>
        <p>C++</p>

        <ul>
          <li><a href="http://cran.r-project.org/web/packages/Rcpp/">Rcpp</a></li>
        </ul>
      </li>
      <li>
        <p>Python</p>

        <ul>
          <li><a href="http://cran.r-project.org/web/packages/rPython/">rPython</a></li>
        </ul>
      </li>
      <li>
        <p>Java</p>

        <ul>
          <li>
<a name="rJava"></a><a href="http://rforge.net/rJava/">rJava</a>
</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Java</strong></p>

    <ul>
      <li>
        <p>Python</p>

        <ul>
          <li>
<a href="http://www.jython.org/">Jython</a> — Python для платформы Java
Не поддерживает Python 3.</li>
          <li>
<a href="http://jyni.org/">JyNI</a> — Jython Native Interface.
Позволяет Jython использовать нативные расширения CPython, такие как
NumPy или SciPy</li>
          <li>
<a href="http://jpe.sourceforge.net/">JPE</a> — доступ из Java к
нативным расширениям Python, и подключение Java для разработчиков на
Python</li>
          <li><a href="http://jepp.sourceforge.net/">Jepp</a></li>
        </ul>
      </li>
      <li>
        <p>R</p>

        <ul>
          <li>
<a href="http://rforge.net/JRI/">JRI</a>, сейчас это часть
<a href="#rJava">rJava</a>
</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>.NET</strong></p>

    <ul>
      <li>
        <p>Python</p>

        <ul>
          <li>
            <p>IronPython: [1][http://ironpython.net/],
[2][https://ironpython.codeplex.com/] — реализация Python 2.6 для .NET.</p>

            <p>Не поддерживает Python 3.</p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>PostgreSQL</strong></p>

    <ul>
      <li>
        <p>Python</p>

        <ul>
          <li>
<a href="http://www.postgresql.org/docs/9.3/static/plpython.html">PL/Python</a>
(включён)</li>
          <li><a href="http://python.projects.pgfoundry.org/backend/">pg-python (aka PL/Py)</a></li>
        </ul>
      </li>
      <li>
        <p>Perl</p>

        <ul>
          <li>
<a href="http://www.postgresql.org/docs/9.3/static/plperl.html">PL/Perl</a>
(включён)</li>
        </ul>
      </li>
      <li>
        <p>TCL</p>

        <ul>
          <li>
<a href="http://www.postgresql.org/docs/9.3/static/pltcl.html">PL/TCL</a>
(включён)</li>
        </ul>
      </li>
      <li>
        <p>R</p>

        <ul>
          <li><a href="http://www.joeconway.com/plr/">PL/R</a></li>
        </ul>
      </li>
      <li>
        <p>Java</p>

        <ul>
          <li><a href="http://pljava.projects.pgfoundry.org/">PL/Java</a></li>
        </ul>
      </li>
      <li>
        <p>Ruby</p>

        <ul>
          <li>PL/Ruby: [1][http://rubyforge.org/projects/plruby/],
[2][https://github.com/knu/postgresql-plruby]</li>
        </ul>
      </li>
      <li>
        <p>PHP</p>

        <ul>
          <li><a href="http://www.commandprompt.com/community/plphp/">PL/PHP</a></li>
        </ul>
      </li>
      <li>
        <p>sh</p>

        <ul>
          <li><a href="https://github.com/petere/plsh">PL/sh</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Perl</strong></p>

    <ul>
      <li>
        <p>The Perl Compiler: [1][http://www.perl-compiler.org/],
[2][https://code.google.com/p/perl-compiler/] — компилирует в C или
платформо-совместимый байткод</p>
      </li>
      <li>
        <p>Python</p>

        <ul>
          <li><a href="http://search.cpan.org/dist/Inline-Python/">Inline::Python</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Lua</strong></p>

    <ul>
      <li>
        <p>C</p>

        <ul>
          <li>
<a href="http://luajit.org/ext_ffi.html">LuaJIT’s FFI</a> — позволяет
вызывать внешние функции на C и использовать структуры данных C из
чистого кода Lua</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><a href="http://www.swig.org/"><strong>SWIG</strong></a> — соединяет программы, написанные на C,
с множеством высокоуровневым языков программирования</p>

    <p>Поддерживаемые языки: Tcl, Python, Perl, Java (incl. Android), Ruby,
PHP, Ocaml, C#, Modula-3, Lua, CLISP, Common Lisp with UFFI, R, Octave,
Go, D и др.</p>

    <p>Известна своей медлительностью.</p>
  </li>
  <li>
    <p><a name="LLVM"></a><a href="http://llvm.org/"><strong>LLVM</strong></a> — коллекция модульных и
переиспользуемых технологий для компиляторов и инструментариев</p>
  </li>
  <li>
    <p><a name="JNI"></a>
<a href="http://ru.wikipedia.org/wiki/Java_Native_Interface"><strong>Java Native Interface (JNI)</strong></a></p>
  </li>
  <li>
    <p><a href="http://jpype.sourceforge.net/pni.html"><strong>Python Native Interface</strong></a>
(проект)</p>
  </li>
</ul>

<h2 id="section-6">Исходный код</h2>

<ul>
  <li>
    <p><strong>Система управления версиями</strong>: Git</p>
  </li>
  <li>
    <p><strong>Хостинг исходного кода</strong>: <a href="https://github.com/">GitHub</a></p>

    <p>Организация FIDATA на GitHub: <a href="https://github.com/FIDATA/">https://github.com/FIDATA/</a></p>
  </li>
</ul>

<p>Многие сторонние библиотеки, которые нам понадобятся, уже хостятся на
GitHub. Для них просто делаем форки. Некоторые уже сделаны.</p>

<p>Другие проекты могут использовать другие системы управления версиями
(Mercurial, Bazaar, Subversion, CVS). Для них необходимо создать форки
на GitHub.</p>

<p>Для всех форков необходима периодическая синхронизация с исходным
репозиторием.</p>

<h2 id="section-7">Процесс сборки и организация кода</h2>

<p><img src="images/building_process.png" alt="Процесс сборки"></p>

<p>Мы будем использовать системы сборки, спроектированные для Java, для
не-Java проектов. Чтобы не возникало путаницы, я использую такую
терминологию:</p>

<ul>
  <li>
    <p><strong>Артефакт</strong> — один или несколько файлов, которые требуются для
компиляции кода из другого репозитория. Артефакты предназначены только
для разработчиков.
Для С/С++ артефактом будет скомпилированная библиотека вместе с
заголовочными и объектными файлами.</p>

    <p>Артефакты классифицируются по версии, компилятору, целевой
платформе, использованным при компиляции опциям и др. Для некоторых
модулей необходимы артефакты исходного кода.</p>
  </li>
  <li>
    <p><strong>Модуль</strong> — один или несколько файлов, предназначенных для
развёртывания на компьютере конечного пользователя.
В основном модули содержат исполняемые файлы и файлы данных.</p>

    <p>Модуль может создаваться из одного или нескольких артефактов.</p>

    <p>Описание модулей, как и описание артефактов, включает в себя список
зависимостей.</p>

    <p>Модули классифицируются по версии и целевой платформе.</p>
  </li>
</ul>

<p>Артефакты и модули должны быть достаточно большими, чтобы чрезмерно не
увеличивать их количество, и достаточно маленькими, чтобы точно
удовлетворять зависимостям.</p>

<p><strong>Репозитории</strong>, в основном, создаются по модулям.</p>

<h2 id="section-8">Сборка</h2>

<p><img src="images/build_system.png" alt="Система сборки"></p>

<ol>
  <li>
    <p><strong>Сервер непрерывной интеграции</strong>: <a href="http://jenkins-ci.org/">Jenkins</a></p>
  </li>
  <li>
    <p><strong>Основная система сборки</strong>: <a href="http://maven.apache.org/">Maven</a> либо
<a href="http://www.gradle.org/">Gradle</a>. Все остальные задачи запускаются
из-под неё.</p>

    <p>Первоначально я планировал Maven. Однако, несколько модулей я уже
начал под Gradle.</p>
  </li>
  <li>
    <p><strong>Для проектов на C/C++</strong>:</p>

    <ol>
      <li>
        <p>Система сборки: CMake</p>
      </li>
      <li>
        <p><a name="C_CPP_compiler"></a>Компилятор:</p>

        <p>Первоначальный план был таким:</p>

        <ul>
          <li>Windows — Visual C++ 2013 (MSVC 12.0)</li>
          <li>GNU/Linux — GCC (наиболее свежая стабильная версия 4.9.0)</li>
        </ul>

        <p>Так как платформа сама
<a href="architecture.html#problem_compilation">должна иметь возможности для компиляции кода</a>,
стоит рассмотреть и другие компиляторы. Я присматриваюсь к
<a href="http://clang.llvm.org/">clang</a>. Это кроссплатформенный компилятор,
совместимый с GCC и сравнимый с ним по скорости. clang также бинарно
совместим с MSVC 2012 (11.0). Он является частью проекта <a href="#LLVM">LLVM</a>,
который так же имеет интерфейсы и для Pythonа.</p>
      </li>
    </ol>
  </li>
  <li>
    <p><strong>Сборка документации</strong>:</p>

    <ul>
      <li>Python: TODO</li>
      <li>TeX: LuaLaTex + Latexmk</li>
      <li>Конвертация между форматами:
<a href="http://johnmacfarlane.net/pandoc/">pandoc</a>
</li>
    </ul>
  </li>
  <li>
    <p><strong>Unit testing</strong>:</p>

    <ul>
      <li>Python: TODO</li>
      <li>C/C++: TODO</li>
      <li>PostgreSQL:
        <ul>
          <li><a href="http://epictest.org/">Epic</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Проверка качества кода</strong>:</p>

    <ul>
      <li><a href="http://www.sonarqube.org/">SonarQube</a></li>
      <li>Тесты на соответствие PEP 8</li>
      <li><a href="http://clang-analyzer.llvm.org/">Clang Static Analyzer</a></li>
    </ul>
  </li>
  <li>
    <p><strong>Хранилище бинарных артефактов</strong>:
<a href="http://www.jfrog.com/home/v_artifactory_opensource_overview">Artifactory</a></p>
  </li>
  <li>
    <p><strong>Создание модулей</strong>:
<a href="http://qt-project.org/wiki/Qt-Installer-Framework">Qt Installer Framework</a></p>
  </li>
  <li>
    <p><strong>Хранилище модулей</strong>: файловый хостинг с http, ftp, sshd</p>
  </li>
</ol>

<h2 id="section-9">Интегрированная среда разработки</h2>

<p>Я предпочитаю:</p>

<ul>
  <li>
    <p>Eclipse — для общей разработки</p>

    <p>В <a href="https://github.com/FIDATA/dev-toolkit">этом репозитории</a> есть
ссылки на кастомизированную конфигурацию Eclipse и дополнительные
плагины.</p>
  </li>
  <li>
    <p><a href="http://eric-ide.python-projects.org/">Eric</a> — для Python + Qt</p>
  </li>
</ul>

<h2 id="section-10">Форматы документации</h2>

<ul>
  <li>многостраничный и одностраничный HTML — для размещения на сайте</li>
  <li>CHM — для Windows</li>
  <li>PDF</li>
  <li>MarkDown — для GitHub</li>
  <li>GNU/Linux: TODO</li>
  <li>OS X: TODO</li>
</ul>

<h2 id="section-11">Ссылки для разработчиков</h2>

<ul>
  <li>
    <p><strong>Официальный сайт</strong>: <a href="http://fidata.org/">http://fidata.org/</a></p>

    <p>На официальном сайте:</p>

    <ul>
      <li>описание и официальная документация проекта</li>
      <li>официальная документация модулей (компилируется и сохраняется в
ветки gh-pages)</li>
    </ul>

    <p>На GitHub Wiki (TODO):</p>

    <ul>
      <li>документация для разработчиков</li>
      <li>заметки, мысли, идеи</li>
    </ul>
  </li>
  <li>
    <p><strong>Баг-трекер</strong>:</p>

    <ul>
      <li>Открытый: GitHub</li>
      <li>Закрытый (если будет необходим):
<a href="http://grv87.ftp.sh/bugs/">Mantis</a>
</li>
    </ul>
  </li>
  <li>
    <p><strong>Инсталляции Jenkins</strong>:</p>

    <ul>
      <li>Ubuntu: <a href="http://jenkins-ubuntu.fidata.org/">http://jenkins-ubuntu.fidata.org/</a>
</li>
      <li>Windows 7 x64: <a href="http://grv87.ftp.sh:8082/">http://grv87.ftp.sh:8082/</a> (временная)</li>
      <li>Другие платформы: TODO</li>
    </ul>
  </li>
  <li>
    <p><strong>SonarQube</strong>: <a href="http://grv87.ftp.sh:9000/">http://grv87.ftp.sh:9000/</a></p>
  </li>
  <li>
    <p><strong>Artifactory</strong>: <a href="http://artifactory.fidata.org/">http://artifactory.fidata.org/</a></p>
  </li>
  <li>
    <p><strong>Хранилище модулей</strong>: <a href="http://modules.fidata.org/">http://modules.fidata.org/</a> (TODO)</p>
  </li>
</ul>

<p>P.S. grv87.ftp.sh — DDNS-адрес моего домашнего компьютера. Это временное
решение. Пожалуйста, не злоупотребляйте этим. Также, хотя мой ПК обычно
включён 24/7, он не
<a href="http://ru.wikipedia.org/wiki/%D0%92%D1%8B%D1%81%D0%BE%D0%BA%D0%B0%D1%8F_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D0%BE%D1%81%D1%82%D1%8C">высоко доступен</a>.
У меня могут быть часы обслуживания и перебои в подаче электроэнергии и
работе сети.</p>

<h2 id="section-12">Дополнительное чтение</h2>

<h3 id="section-13">Модульное ПО</h3>
<ul>
  <li><a href="http://qconlondon.com/dl/qcon-london-2013/slides/BaruchSadogursky_ManagingModularSoftwareForYourNuGetCAndJavaDevelopment.pdf">http://qconlondon.com/dl/qcon-london-2013/slides/BaruchSadogursky_ManagingModularSoftwareForYourNuGetCAndJavaDevelopment.pdf</a></li>
</ul>

<h3 id="section-14">Сравнение хранилищ бинарных артефактов</h3>
<ul>
  <li><a href="http://docs.codehaus.org/display/MAVENUSER/Maven+Repository+Manager+Feature+Matrix">http://docs.codehaus.org/display/MAVENUSER/Maven+Repository+Manager+Feature+Matrix</a></li>
</ul>

				
					<div id="disqus_thread"></div>
					<script type="text/javascript">        var disqus_shortname = 'fidata';
var disqus_identifier = '/ru/development_and_building';
var disqus_title = 'Разработка и сборка';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
</script>
					<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
				
			</td>
			
<td class="column">
	<table class="Block" cellspacing="0">
		<thead><tr><td class="BlockTitle">» Twitter</td></tr></thead>
		<tbody><tr><td class="BlockContents">
<a class="twitter-timeline" href="https://twitter.com/fidata_team" data-widget-id="460120771394670592">Твиты пользователя @fidata_team</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</td></tr></tbody>
	</table>

</td>
			</tr></tbody></table>
		</div>
		<div id="footer"><div>
	
		Содержимое данной страницы: Copyright © 2014  Basil Peace.
	
	<a href="../en/license.html">Условия использования</a>.
	Дизайн: Copyright © 2014  Basil Peace
</div></div>
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-51510993-1', 'fidata.org');
		  ga('send', 'pageview');

		</script>
	</body>
</html>
